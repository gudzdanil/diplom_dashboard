<uib-tabset active="vmGraph.activeDashBoard">
    <uib-tab index="($index + 1)" ng-click="vmGraph.updateWidgetList()" heading="{{dashboard.name}}"
             ng-repeat="dashboard in vmGraph.dashboards track by $index">
        <div class="row text-right">
            <button class="btn btn-primary" ng-click="vmGraph.editDashboard($index)">Изменить имя дашборда</button>
            <button class="btn btn-danger" ng-click="vmGraph.removeDashboard($index)">Удалить дашборд</button>
        </div>
        <div class="row">
            <ul class="list-unstyled clearfix" style="margin-top: 30px;">
                <li ng-repeat="widget in vmGraph.widgets track by $index">
                    <div class="col-md-8">
                        <dl class="dl-horizontal">
                            <dt>Запрос</dt>
                            <dd ng-bind="widget.query"></dd>
                        </dl>
                        <dl class="dl-horizontal">
                            <dt>Тип</dt>
                            <dd ng-bind="vmGraph.types[widget.diagram_type]"></dd>
                        </dl>
                    </div>
                    <div class="col-md-4">
                        <button ng-click="vmGraph.edit($parent.$index, $index)" class="btn btn-default">Редактировать
                        </button>
                        <button ng-click="vmGraph.remove($index)" class="btn btn-default">Удалить</button>
                    </div>
                </li>
            </ul>
        </div>
        <div class="text-center">
            <button ng-click="vmGraph.add($parent.$index)" class="btn btn-default">Добавить</button>
        </div>
    </uib-tab>
    <uib-tab ng-click="vmGraph.addDashboard()" heading="+" index="99999" style="cursor: default"></uib-tab>
</uib-tabset>
